var commonWindow=require("ui/iphone/ApplicationWindow"),Data=require("ui/common/DAL"),mapWindow=function(){var e,i,t=new commonWindow;Ti.Geolocation.purpose="GPS user coordinates",Ti.Geolocation.getCurrentPosition(function(t){t.error||(e=t.coords.longitude,i=t.coords.latitude)});var o=Ti.Map.createAnnotation({latitude:37.390749,longitude:-122.081651,title:"Appcelerator Headquarters",subtitle:"Mountain View, CA",pincolor:Ti.Map.ANNOTATION_RED,animate:!0,leftButton:Ti.UI.iPhone.SystemButton.INFO_LIGHT,myid:1}),a=Ti.Map.createView({mapType:Ti.Map.STANDARD_TYPE,region:{latitude:i,longitude:e,latitudeDelta:1e-4,longitudeDelta:1e-4},animate:!0,regionFit:!0,userLocation:!0,annotations:[o]}),n={latitude:i,longitude:e,latitudeDelta:.01,longitudeDelta:.018};return a.setLocation(n),o.addEventListener("click",function(){var t={latitude:i,longitude:e,latitudeDelta:.01,longitudeDelta:.018};a.setLocation(t),alert(e)}),t.add(a),t};module.exports=mapWindow;