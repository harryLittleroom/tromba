var commonWindow=require("ui/iphone/ApplicationWindow"),Data=require("ui/common/DAL"),mapWindow=function(){var e,i,t=new commonWindow;Ti.Geolocation.purpose="GPS user coordinates",Ti.Geolocation.getCurrentPosition(function(t){t.error||(e=t.coords.longitude,i=t.coords.latitude)});var o=Ti.Map.createAnnotation({latitude:i,longitude:e,title:"Appcelerator Headquarters",subtitle:"Mountain View, CA",pincolor:Ti.Map.ANNOTATION_RED,animate:!0,leftButton:Ti.UI.iPhone.SystemButton.INFO_LIGHT,myid:1}),a=Ti.Map.createView({mapType:Ti.Map.STANDARD_TYPE,animate:!0,regionFit:!0,userLocation:!0,annotations:[o]}),n={latitude:i,longitude:e,latitudeDelta:.01,longitudeDelta:.018};return a.setLocation(n),t.addEventListener("open",function(){var t={latitude:i,longitude:e,latitudeDelta:.01,longitudeDelta:.018};a.setLocation(t)}),o.addEventListener("click",function(){}),t.add(a),t};module.exports=mapWindow;